{"name": "TEST-33171 To verify the bet attribution when one or more stacks on the seat where the player has a session.", "status": "failed", "statusDetails": {"message": "AssertionError: Verification failed: Games tab is not visible or did not open.\nassert False", "trace": "setup = <Page url='https://172.41.46.23:790/tabledashboard/2025-09-09/override'>, request = <FixtureRequest for <Function test_33171>>\n\n    @allure.feature(\"Bet Allocation Logic\")\n    @allure.story(\"TEST-33171: Bet Allocation Logic\")\n    @allure.title(\"TEST-33171 To verify the bet attribution when one or more stacks on the seat where the player has a session.\")\n    def test_33171(setup, request):\n        status = \"Pass\"\n        remarks = \"\"\n        tbd = TableExecutionTemplate(setup, \"TEST-33171\",\"BGP_BetAllocationLogic\")\n        request.node.tbd = tbd\n        try:\n            table_ip = tbd.config[\"tableIP\"]\n            chips_df = tbd.chips_df\n    \n            # Process buy-ins\n            tbd.logger_utils.log(\"Processing buy-ins.\")\n            buyin_result = tbd.buyin_processor.process_buyins(table_ip, tbd.buyin_data, chips_df)\n    \n            # Process wagers\n            tbd.logger_utils.log(\"Processing wagers.\")\n            wager_result = tbd.wager_processor.process_wagers(table_ip, buyin_result, tbd.wager_data)\n    \n            # Draw cards and press shoe button\n            tbd.logger_utils.log(\"Drawing cards and pressing shoe.\")\n            tbd.card_processor.draw_cards_and_shoe_press(tbd.card_data, table_ip)\n    \n            # Process payouts\n            tbd.logger_utils.log(\"Processing payouts.\")\n            tbd.payout_processor.process_payouts(table_ip, tbd.payout_data, chips_df)\n            time.sleep(5)\n    \n            # Move to Games tab for verification\n            tbd.logger_utils.log(\"Navigating to Games tab for verification.\")\n            tbd.table_actions.navigate_to_tab(tbd.games_tab.games_tab_locator)\n    \n            # Validate: Games tab is visible and opens successfully\n            tbd.logger_utils.log(\"Validating that Games tab is visible on screen.\")\n            games_tab_visible = False\n            games_tab_locator = None\n            try:\n                # Try to find any tab with text ending in 'Games' (e.g., '27 Games', '100 Games')\n                # This uses Playwright's regex support for text matching\n                games_tab_locator = tbd.page.locator(\"[role='tab']\", has_text=r\"\\\\d+ Games$\")\n                if games_tab_locator.is_visible():\n                    games_tab_visible = True\n                    games_tab_locator.click()\n                    tbd.logger_utils.log(\"Clicked on Games tab.\")\n            except Exception as e:\n                tbd.logger_utils.log(f\"Exception while locating/clicking Games tab: {e}\")\n            if games_tab_visible:\n                msg = \"Verification passed: Games tab is visible and opened successfully.\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Pass\"\n                assert True, msg\n            else:\n                msg = \"Verification failed: Games tab is not visible or did not open.\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Fail\"\n>               assert False, msg\nE               AssertionError: Verification failed: Games tab is not visible or did not open.\nE               assert False\n\nTestCases\\BaccaratGamePlay\\BGP_BetAllocationLogic\\test_TEST-33171.py:69: AssertionError"}, "attachments": [{"name": "Verification failed: Games tab is not visible or did not open.", "source": "283b79d9-b3ba-4906-bf6d-6764191dfe98-attachment.png", "type": "image/png"}, {"name": "Verification Message", "source": "6c314308-9c7f-48c2-94fe-47b2e5799087-attachment.txt", "type": "text/plain"}], "start": 1757415228519, "stop": 1757415347317, "uuid": "8c819ba7-7ee2-4679-a817-3e1d0915bd38", "historyId": "c047d85e03243b0b1d5cacb42df53dcd", "testCaseId": "c047d85e03243b0b1d5cacb42df53dcd", "fullName": "TestCases.BaccaratGamePlay.BGP_BetAllocationLogic.test_TEST-33171#test_33171", "labels": [{"name": "feature", "value": "Bet Allocation Logic"}, {"name": "story", "value": "TEST-33171: Bet Allocation Logic"}, {"name": "parentSuite", "value": "TestCases.BaccaratGamePlay.BGP_BetAllocationLogic"}, {"name": "suite", "value": "test_TEST-33171"}, {"name": "host", "value": "CC-LT001020"}, {"name": "thread", "value": "11084-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCases.BaccaratGamePlay.BGP_BetAllocationLogic.test_TEST-33171"}], "titlePath": ["TestCases", "BaccaratGamePlay", "BGP_BetAllocationLogic", "test_TEST-33171.py"]}