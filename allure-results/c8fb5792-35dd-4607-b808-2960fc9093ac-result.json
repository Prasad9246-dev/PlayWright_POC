{"name": "TEST-33172 To verify the bet attribution when player clock-in on multiple seats but wagers on empty seat.", "status": "failed", "statusDetails": {"message": "AssertionError: Exception during Players tab/seat validation: 'str' object has no attribute 'wait_for'\nassert False", "trace": "setup = <Page url='https://172.41.46.23:790/tabledashboard/2025-09-09/override'>, request = <FixtureRequest for <Function test_33172>>\n\n    @allure.feature(\"Bet Allocation Logic\")\n    @allure.story(\"TEST-33172: Bet Allocation Logic\")\n    @allure.title(\"TEST-33172 To verify the bet attribution when player clock-in on multiple seats but wagers on empty seat.\")\n    def test_33172(setup, request):\n        status = \"Pass\"\n        remarks = \"\"\n        tbd = TableExecutionTemplate(setup, \"TEST-33172\",\"BGP_BetAllocationLogic\")\n        request.node.tbd = tbd\n        try:\n            table_ip = tbd.config[\"tableIP\"]\n            chips_df = tbd.chips_df\n    \n            # Process buy-ins\n            tbd.logger_utils.log(\"Processing buy-ins.\")\n            buyin_result = tbd.buyin_processor.process_buyins(table_ip, tbd.buyin_data, chips_df)\n    \n            # Process wagers\n            tbd.logger_utils.log(\"Processing wagers.\")\n            wager_result = tbd.wager_processor.process_wagers(table_ip, buyin_result, tbd.wager_data)\n    \n            # Draw cards and press shoe button\n            tbd.logger_utils.log(\"Drawing cards and pressing shoe.\")\n            tbd.card_processor.draw_cards_and_shoe_press(tbd.card_data, table_ip)\n    \n            # Process payouts\n            tbd.logger_utils.log(\"Processing payouts.\")\n            tbd.payout_processor.process_payouts(table_ip, tbd.payout_data, chips_df)\n            time.sleep(5)\n    \n            # Move to Games tab for verification\n            tbd.logger_utils.log(\"Navigating to Games tab for verification.\")\n            tbd.table_actions.navigate_to_tab(tbd.games_tab.games_tab_locator)\n    \n            # Step: Click the first row, first column cell in the table\n            tbd.logger_utils.log(\"Clicking the first row, first column cell in the table.\")\n            first_row_first_column = tbd.games_tab.first_row_first_column\n            first_row_first_column.click()\n            tbd.logger_utils.log(\"Clicked the first row, first column cell.\")\n            time.sleep(8)\n            # Step: Extract dynamic table into Python datatable (list of dicts)\n            tbd.logger_utils.log(\"Extracting table data into Python datatable.\")\n            print(\"Extracting table data...\")\n            table_data = tbd.games_tab.extract_nested_details_table_data()\n            tbd.logger_utils.log(f\"Extracted table data: {table_data}\")\n            print(f\"Extracted table data: {table_data}\")\n    \n            # Validate: Player column contains '6002' and Bets column contains 1500 and 200\n            tbd.logger_utils.log(\"Validating that at least one row has '6001' in Player and Position is '3'.\")\n            found_row = False\n            for row in table_data:\n                player = row.get('Player', '')\n                position = str(row.get('Position', ''))\n                if '6001' in str(player) and position == '3':\n                    found_row = True\n                    break\n            if found_row:\n                msg = \"Verification passed: Found row with '6001' in Player and Position 3.\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Pass\"\n                assert True, msg\n            else:\n                msg = \"Verification failed: No row found with '6001' in Player and Position 3.\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Fail\"\n                assert False, msg\n            # Move to Games tab for verification\n            tbd.logger_utils.log(\"Navigating to Players tab for verification.\")\n            tbd.table_actions.navigate_to_tab(tbd.player_tab.Players_TAB)\n            # Step: Click Players tab and validate seat 3 contains 6001\n    \n            try:\n    \n>               seat_locator = tbd.ui_utils.is_visible(tbd.player_tab.get_player_session_card(\"3\", \"6001\"))\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nTestCases\\BaccaratGamePlay\\BGP_BetAllocationLogic\\test_TEST-33172.py:85: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Utilites.UIUtils.UIUtils object at 0x000001F72EF5E9E0>, element_selector = \"#player-card--0\\\\.3 .player-id:has-text('(6001)')\", timeout = 5000\n\n    def is_visible(self, element_selector, timeout=5000):\n        \"\"\"\n        Checks if the locator is visible on the page.\n        Author:\n            Prasad Kamble\n        \"\"\"\n        time.sleep(1)\n>       element_selector.wait_for(state=\"visible\", timeout=timeout)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'str' object has no attribute 'wait_for'\n\nUtilites\\UIUtils.py:70: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nsetup = <Page url='https://172.41.46.23:790/tabledashboard/2025-09-09/override'>, request = <FixtureRequest for <Function test_33172>>\n\n    @allure.feature(\"Bet Allocation Logic\")\n    @allure.story(\"TEST-33172: Bet Allocation Logic\")\n    @allure.title(\"TEST-33172 To verify the bet attribution when player clock-in on multiple seats but wagers on empty seat.\")\n    def test_33172(setup, request):\n        status = \"Pass\"\n        remarks = \"\"\n        tbd = TableExecutionTemplate(setup, \"TEST-33172\",\"BGP_BetAllocationLogic\")\n        request.node.tbd = tbd\n        try:\n            table_ip = tbd.config[\"tableIP\"]\n            chips_df = tbd.chips_df\n    \n            # Process buy-ins\n            tbd.logger_utils.log(\"Processing buy-ins.\")\n            buyin_result = tbd.buyin_processor.process_buyins(table_ip, tbd.buyin_data, chips_df)\n    \n            # Process wagers\n            tbd.logger_utils.log(\"Processing wagers.\")\n            wager_result = tbd.wager_processor.process_wagers(table_ip, buyin_result, tbd.wager_data)\n    \n            # Draw cards and press shoe button\n            tbd.logger_utils.log(\"Drawing cards and pressing shoe.\")\n            tbd.card_processor.draw_cards_and_shoe_press(tbd.card_data, table_ip)\n    \n            # Process payouts\n            tbd.logger_utils.log(\"Processing payouts.\")\n            tbd.payout_processor.process_payouts(table_ip, tbd.payout_data, chips_df)\n            time.sleep(5)\n    \n            # Move to Games tab for verification\n            tbd.logger_utils.log(\"Navigating to Games tab for verification.\")\n            tbd.table_actions.navigate_to_tab(tbd.games_tab.games_tab_locator)\n    \n            # Step: Click the first row, first column cell in the table\n            tbd.logger_utils.log(\"Clicking the first row, first column cell in the table.\")\n            first_row_first_column = tbd.games_tab.first_row_first_column\n            first_row_first_column.click()\n            tbd.logger_utils.log(\"Clicked the first row, first column cell.\")\n            time.sleep(8)\n            # Step: Extract dynamic table into Python datatable (list of dicts)\n            tbd.logger_utils.log(\"Extracting table data into Python datatable.\")\n            print(\"Extracting table data...\")\n            table_data = tbd.games_tab.extract_nested_details_table_data()\n            tbd.logger_utils.log(f\"Extracted table data: {table_data}\")\n            print(f\"Extracted table data: {table_data}\")\n    \n            # Validate: Player column contains '6002' and Bets column contains 1500 and 200\n            tbd.logger_utils.log(\"Validating that at least one row has '6001' in Player and Position is '3'.\")\n            found_row = False\n            for row in table_data:\n                player = row.get('Player', '')\n                position = str(row.get('Position', ''))\n                if '6001' in str(player) and position == '3':\n                    found_row = True\n                    break\n            if found_row:\n                msg = \"Verification passed: Found row with '6001' in Player and Position 3.\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Pass\"\n                assert True, msg\n            else:\n                msg = \"Verification failed: No row found with '6001' in Player and Position 3.\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Fail\"\n                assert False, msg\n            # Move to Games tab for verification\n            tbd.logger_utils.log(\"Navigating to Players tab for verification.\")\n            tbd.table_actions.navigate_to_tab(tbd.player_tab.Players_TAB)\n            # Step: Click Players tab and validate seat 3 contains 6001\n    \n            try:\n    \n                seat_locator = tbd.ui_utils.is_visible(tbd.player_tab.get_player_session_card(\"3\", \"6001\"))\n                if seat_locator:\n                    msg = \"Verification passed: Seat 3 contains player 6001.\"\n                    print(msg)\n                    tbd.logger_utils.log(msg)\n                    tbd.screenshot_util.attach_screenshot(name=msg)\n                    tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                    status = \"Pass\"\n                    assert True, msg\n                else:\n                    msg = \"Verification failed: Seat 3 does not contain player 6001.\"\n                    print(msg)\n                    tbd.logger_utils.log(msg)\n                    tbd.screenshot_util.attach_screenshot(name=msg)\n                    tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                    status = \"Fail\"\n                    assert False, msg\n            except Exception as e:\n                msg = f\"Exception during Players tab/seat validation: {e}\"\n                print(msg)\n                tbd.logger_utils.log(msg)\n                tbd.screenshot_util.attach_screenshot(name=msg)\n                tbd.screenshot_util.attach_text(msg, name=\"Verification Message\")\n                status = \"Fail\"\n>               assert False, msg\nE               AssertionError: Exception during Players tab/seat validation: 'str' object has no attribute 'wait_for'\nE               assert False\n\nTestCases\\BaccaratGamePlay\\BGP_BetAllocationLogic\\test_TEST-33172.py:109: AssertionError"}, "attachments": [{"name": "Verification passed: Found row with '6001' in Player and Position 3.", "source": "08c637a5-44c8-4f5d-8b3b-49207f85b27e-attachment.png", "type": "image/png"}, {"name": "Verification Message", "source": "aaaf3ceb-0c6c-4e32-98f8-8488ca5f57bc-attachment.txt", "type": "text/plain"}, {"name": "Exception during Players tab/seat validation: 'str' object has no attribute 'wait_for'", "source": "0a6e53a0-9ada-487c-aee4-b6fcc117c981-attachment.png", "type": "image/png"}, {"name": "Verification Message", "source": "d9795370-41ad-40f7-ab41-66abb1b76461-attachment.txt", "type": "text/plain"}], "start": 1757420339651, "stop": 1757420480891, "uuid": "ea2ea623-027a-4e37-8d52-916910102aa4", "historyId": "6a4bc8652ae09c81ac4d1dac3362a17b", "testCaseId": "6a4bc8652ae09c81ac4d1dac3362a17b", "fullName": "TestCases.BaccaratGamePlay.BGP_BetAllocationLogic.test_TEST-33172#test_33172", "labels": [{"name": "story", "value": "TEST-33172: Bet Allocation Logic"}, {"name": "feature", "value": "Bet Allocation Logic"}, {"name": "parentSuite", "value": "TestCases.BaccaratGamePlay.BGP_BetAllocationLogic"}, {"name": "suite", "value": "test_TEST-33172"}, {"name": "host", "value": "CC-LT001020"}, {"name": "thread", "value": "17252-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCases.BaccaratGamePlay.BGP_BetAllocationLogic.test_TEST-33172"}], "titlePath": ["TestCases", "BaccaratGamePlay", "BGP_BetAllocationLogic", "test_TEST-33172.py"]}